!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.SCarousel=n():t.SCarousel=n()}(self,(function(){return(()=>{"use strict";var t={d:(n,e)=>{for(var o in e)t.o(e,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n)},n={};function e(t,n,e){var o=Math.round(Math.abs(t)/n);return 0===o?o=e:o===e+1&&(o=1),--o}function o(t,n,e,o){t.style.display="",t.style.width="",t.style.height="",t.style.overflow="",n.style.display="",n.style.height="",n.style.width="",n.style.transform="",n.removeChild(e[0]),n.removeChild(e[length]);for(var i=0;i<length;i++){var r=e[i];r.style.display="",r.style.width="",r.style.height="",o&&(r.style.float="")}}function i(t,n){if(!("number"==typeof n&&n>=0&&n!==1/0))throw new Error("".concat(t," option must be a non-negative number"))}function r(t,n){if(!0!==n&&!1!==n)throw new Error("".concat(t," option must be a boolean"))}t.d(n,{default:()=>s});var c=window.cancelAnimationFrame||window.mozCancelAnimationFrame,a=function(){var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;if(!t)throw new Error("s-carousel can't work, because of requestAnimationFrame is not supported in your browser!");return t}();"transition"in document.body.style==0&&console.log("s-carousel may not work, because of css transition is support in your browser!");const s=function(t){var n=this;!function(t){if("[object Object]"!==Object.prototype.toString.apply(t))throw new Error("config must be an object");if(void 0===t.direction&&(t.direction="left"),void 0===t.duration&&(t.duration=300),void 0===t.delay&&(t.delay=3e3),void 0===t.activeIndex&&(t.activeIndex=0),void 0===t.autoPlay&&(t.autoPlay=!0),void 0===t.prevent&&(t.prevent=!0),"object"!=typeof t.el&&!document.getElementById(t.el))throw new Error("el option must be an existing HTML Element");if(-1===["left","right","up","down"].indexOf(t.direction))throw new Error('direction option must be one of ["left", "right", "up", "down"]');if(i("width",t.width),i("height",t.height),i("duration",t.duration),i("delay",t.delay),i("activeIndex",t.activeIndex),r("autoPlay",t.autoPlay),r("prevent",t.prevent),t.onChange&&"function"!=typeof t.onChange)throw new Error("onChange option must be a function")}(t);var s="object"==typeof t.el?t.el:document.getElementById(t.el);if(!s)throw new TypeError("el is an illegal dom element");var l,d,u,f,h,p,y,w,v,m=s.children[0],g=m.children,x=g.length,b="left"===t.direction||"right"===t.direction,A=b?"pageX":"pageY",E=b?"translateX":"translateY",j=b?t.width:t.height,C=j/(t.duration||300)*1e3/60,M={_innerActive:(t.activeIndex||0)+1};function O(){var t=M.innerActive||0;t>x?t=1:t<1&&(t=x),M.innerActive=t,u=-j*t,m.style.transform="".concat(E,"(").concat(u,"px)")}function I(n){void 0===n&&(n=t.delay),O(),l=window.setTimeout((function(){var n=t.direction,e=M.innerActive;["left","up"].includes(n)?e++:e--,M.innerActive=e,f=-j*e,L(n,C)}),n)}function P(t,n){(u-=t)>f?(m.style.transform="".concat(E,"(").concat(u,"px)"),d=a(n)):l?I():O()}function F(t,n){(u+=t)<f?(m.style.transform="".concat(E,"(").concat(u,"px)"),d=a(n)):l?I():O()}function L(t,n){d=a((function e(){v||(0,{left:P,up:P,right:F,down:F}[t])(n,e)}))}function _(t,n){var e=-(x+1)*j;d=a((function o(){v||(["left","up"].includes(t)?function(t,n,e){[{condition:u<f&&u-n>t,action:function(){u-=n,m.style.transform="".concat(E,"(").concat(u,"px)"),d=a(e)}},{condition:u-n<=t,action:function(){u=-j,m.style.transform="".concat(E,"(").concat(u,"px)"),d=a(e)}},{condition:u-n>f,action:function(){u-=n,m.style.transform="".concat(E,"(").concat(u,"px)"),d=a(e)}},{condition:!0,action:function(){l?I():O()}}].find((function(t){return t.condition})).action()}(e,n,o):function(t,n,e){[{condition:u>f&&u+n<0,action:function(){u+=n,m.style.transform="".concat(E,"(").concat(u,"px)"),d=a(e)}},{condition:u+n>=0,action:function(){u=-j*x,m.style.transform="".concat(E,"(").concat(u,"px)"),d=a(e)}},{condition:u+n<f,action:function(){u+=n,m.style.transform="".concat(E,"(").concat(u,"px)"),d=a(e)}},{condition:!0,action:function(){l?I():O()}}].find((function(t){return t.condition})).action()}(0,n,o))}))}function k(t){n.stop(),y=Date.now(),h=t.touches[0][A],p=u,w=e(u,j,x)}function q(n){t.prevent&&n.preventDefault();var e=n.touches[0][A]-h,o=-j*(x+1);u=Math.min(0,Math.max(o,p+e)),m.style.transform="".concat(E,"(").concat(u,"px)")}function T(t){var e=Date.now()-y,o=(t.changedTouches[0][A]-h)/e;o<-.6?n.go(w===x-1?0:w+1):o>.6?n.go(0===w?x-1:w-1):(M.innerActive=Math.round(Math.abs(u)/j),f=-j*M.innerActive,v=!1,L(b?u<f?"right":"left":u<f?"down":"up",Math.abs(f-u)/15))}Object.defineProperty(M,"innerActive",{configurable:!1,enumerable:!0,get:function(){return M._innerActive},set:function(n){M._innerActive=n,n>0&&n<x+1&&t.onChange&&t.onChange(n-1)}}),function(t,n){t.style.display="block",t.style.width=n.width+"px",t.style.height=n.height+"px",t.style.overflow="hidden"}(s,t),function(t,n,e,o){t.style.display="block",t.style.zIndex="10",e?(t.style.height=n.height+"px",t.style.width=n.width*(o+2)+"px"):(t.style.height=n.height*(o+2)+"px",t.style.width=n.width+"px")}(m,t,b,x),function(t,n,e,o){for(var i=0;i<o;i++){var r=t[i];r.style.display="block",r.style.width=n.width+"px",r.style.height=n.height+"px",e&&(r.style.float="left")}}(g,t,b,x),function(t,n,e){var o=t[0].cloneNode(!0),i=t[e-1].cloneNode(!0);n.insertBefore(i,t[0]),n.appendChild(o)}(g,m,x),t.autoPlay?I():O(),s.addEventListener("touchstart",k),s.addEventListener("touchmove",q),s.addEventListener("touchend",T),this.start=function(){l||(v=!1,I(0))},this.stop=function(){v=!0,l&&clearTimeout(l),d&&c&&c(d)},this.continue=function(){l&&v&&(v=!1,L(t.direction,C))},this.go=function(t){if("number"!=typeof t&&-1===["left","right","up","down"].indexOf(t))throw new Error('only support index or one of ["left", "right", "up", "down"]');var o;if("number"==typeof t)o=t;else{if(b&&-1===["left","right"].indexOf(t)||!b&&-1===["up","down"].indexOf(t))throw new Error("direction conflict");o=e(u,j,x),o="left"===t||"up"===t?o===x-1?0:o+1:0===o?x-1:o-1}M.innerActive=Math.max(Math.min(o+1,x),1),n.stop(),a((function(){v=!1;var t=j*x;u>-j?u-=t:u<-t&&(u+=t),m.style.transform="".concat(E,"(").concat(u,"px)"),f=-j*M.innerActive;var n=Math.abs(f-u);b?n<=t/2?L(u<f?"right":"left",n/20):_(u<f?"left":"right",(t-n)/20):n<=t/2?L(u<f?"down":"up",n/20):_(u<f?"up":"down",(t-n)/20)}))},this.resize=function(n,e){i("width",n),i("height",e),t.width=n,t.height=e,j=b?n:e;var o=t.duration;C=(b?n:e)/o*1e3/60,s.style.width=n+"px",s.style.height=e+"px",b?function(n,e){var o=t.width;m.style.height=e+"px",m.style.width=n*(x+2)+"px",u%o==0&&(0===f?f=-o*x:f===-o*(x+1)&&(f=-o)),f*=n/o,u*=n/o,m.style.transform="".concat(E,"(").concat(u,"px)")}(n,e):function(n,e){var o=t.height;m.style.height=e*(x+2)+"px",m.style.width=n+"px",u%o==0&&(0===f?f=-o*x:f===-o*(x+1)&&(f=-o)),f*=e/o,u*=e/o,m.style.transform="".concat(E,"(").concat(u,"px)")}(n,e);for(var r=0;r<x+2;r++){var c=g[r];c.style.width=n+"px",c.style.height=e+"px"}},this.destroy=function(){for(var t in n.stop(),s.removeEventListener("touchstart",k),s.removeEventListener("touchmove",q),s.removeEventListener("touchend",T),o(s,m,g,b),n)delete n[t];n.__proto__=null}};return n.default})()}));