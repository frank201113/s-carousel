!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.SCarousel=n():t.SCarousel=n()}(self,(function(){return(()=>{"use strict";var t={d:(n,e)=>{for(var o in e)t.o(e,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n)},n={};function e(t,n,e){var o=Math.round(Math.abs(t)/n);return 0===o?o=e:o===e+1&&(o=1),--o}function o(t,n,e,o){t.style.display="",t.style.width="",t.style.height="",t.style.overflow="",n.style.display="",n.style.height="",n.style.width="",n.style.transform="",n.removeChild(e[0]),n.removeChild(e[length]);for(var i=0;i<length;i++){var r=e[i];r.style.display="",r.style.width="",r.style.height="",o&&(r.style.float="")}}function i(t,n){if(!("number"==typeof n&&n>=0&&n!==1/0))throw new Error("".concat(t," option must be a non-negative number"))}function r(t,n){if(!0!==n&&!1!==n)throw new Error("".concat(t," option must be a boolean"))}t.d(n,{default:()=>s});var c=window.cancelAnimationFrame||window.mozCancelAnimationFrame,a=function(){var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;if(!t)throw new Error("s-carousel can't work, because of requestAnimationFrame is not supported in your browser!");return t}();"transition"in document.body.style==0&&console.log("s-carousel may not work, because of css transition is support in your browser!");const s=function t(n){if(!(this instanceof t))throw new TypeError("SCarousel must be called by the 'new' keyword as a constructor");var s=this;!function(t){if("[object Object]"!==Object.prototype.toString.apply(t))throw new Error("config must be an object");if(void 0===t.direction&&(t.direction="left"),void 0===t.duration&&(t.duration=300),void 0===t.delay&&(t.delay=3e3),void 0===t.activeIndex&&(t.activeIndex=0),void 0===t.autoPlay&&(t.autoPlay=!0),void 0===t.prevent&&(t.prevent=!0),"object"!=typeof t.el&&!document.getElementById(t.el))throw new Error("el option must be an existing HTML Element");if(-1===["left","right","up","down"].indexOf(t.direction))throw new Error('direction option must be one of ["left", "right", "up", "down"]');if(i("width",t.width),i("height",t.height),i("duration",t.duration),i("delay",t.delay),i("activeIndex",t.activeIndex),r("autoPlay",t.autoPlay),r("prevent",t.prevent),t.onChange&&"function"!=typeof t.onChange)throw new Error("onChange option must be a function")}(n);var l="object"==typeof n.el?n.el:document.getElementById(n.el);if(!l)throw new TypeError("el is an illegal dom element");var d,u,f,h,p,y,w,v,m,g=l.children[0],x=g.children,b=x.length,E="left"===n.direction||"right"===n.direction,A=E?"pageX":"pageY",j=E?"translateX":"translateY",C=E?n.width:n.height,M=C/(n.duration||300)*1e3/60,O={_innerActive:(n.activeIndex||0)+1};function I(){var t=O.innerActive||0;t>b?t=1:t<1&&(t=b),O.innerActive=t,f=-C*t,g.style.transform="".concat(j,"(").concat(f,"px)")}function P(t){void 0===t&&(t=n.delay),I(),d=window.setTimeout((function(){var t=n.direction,e=O.innerActive;["left","up"].includes(t)?e++:e--,O.innerActive=e,h=-C*e,L(t,M)}),t)}function k(t,n){(f-=t)>h?(g.style.transform="".concat(j,"(").concat(f,"px)"),u=a(n)):d?P():I()}function F(t,n){(f+=t)<h?(g.style.transform="".concat(j,"(").concat(f,"px)"),u=a(n)):d?P():I()}function L(t,n){u=a((function e(){m||(0,{left:k,up:k,right:F,down:F}[t])(n,e)}))}function _(t,n){var e=-(b+1)*C;u=a((function o(){m||(["left","up"].includes(t)?function(t,n,e){[{condition:f<h&&f-n>t,action:function(){f-=n,g.style.transform="".concat(j,"(").concat(f,"px)"),u=a(e)}},{condition:f-n<=t,action:function(){f=-C,g.style.transform="".concat(j,"(").concat(f,"px)"),u=a(e)}},{condition:f-n>h,action:function(){f-=n,g.style.transform="".concat(j,"(").concat(f,"px)"),u=a(e)}},{condition:!0,action:function(){d?P():I()}}].find((function(t){return t.condition})).action()}(e,n,o):function(t,n,e){[{condition:f>h&&f+n<0,action:function(){f+=n,g.style.transform="".concat(j,"(").concat(f,"px)"),u=a(e)}},{condition:f+n>=0,action:function(){f=-C*b,g.style.transform="".concat(j,"(").concat(f,"px)"),u=a(e)}},{condition:f+n<h,action:function(){f+=n,g.style.transform="".concat(j,"(").concat(f,"px)"),u=a(e)}},{condition:!0,action:function(){d?P():I()}}].find((function(t){return t.condition})).action()}(0,n,o))}))}function T(t){s.stop(),w=Date.now(),p=t.touches[0][A],y=f,v=e(f,C,b)}function q(t){n.prevent&&t.preventDefault();var e=t.touches[0][A]-p,o=-C*(b+1);f=Math.min(0,Math.max(o,y+e)),g.style.transform="".concat(j,"(").concat(f,"px)")}function z(t){var n=Date.now()-w,e=(t.changedTouches[0][A]-p)/n;e<-.6?s.go(v===b-1?0:v+1):e>.6?s.go(0===v?b-1:v-1):(O.innerActive=Math.round(Math.abs(f)/C),h=-C*O.innerActive,m=!1,L(E?f<h?"right":"left":f<h?"down":"up",Math.abs(h-f)/15))}Object.defineProperty(O,"innerActive",{configurable:!1,enumerable:!0,get:function(){return O._innerActive},set:function(t){O._innerActive=t,t>0&&t<b+1&&n.onChange&&n.onChange(t-1)}}),function(t,n){t.style.display="block",t.style.width=n.width+"px",t.style.height=n.height+"px",t.style.overflow="hidden"}(l,n),function(t,n,e,o){t.style.display="block",t.style.zIndex="10",e?(t.style.height=n.height+"px",t.style.width=n.width*(o+2)+"px"):(t.style.height=n.height*(o+2)+"px",t.style.width=n.width+"px")}(g,n,E,b),function(t,n,e,o){for(var i=0;i<o;i++){var r=t[i];r.style.display="block",r.style.width=n.width+"px",r.style.height=n.height+"px",e&&(r.style.float="left")}}(x,n,E,b),function(t,n,e){var o=t[0].cloneNode(!0),i=t[e-1].cloneNode(!0);n.insertBefore(i,t[0]),n.appendChild(o)}(x,g,b),n.autoPlay?P():I(),l.addEventListener("touchstart",T),l.addEventListener("touchmove",q),l.addEventListener("touchend",z),this.start=function(){d||(m=!1,P(0))},this.stop=function(){m=!0,d&&clearTimeout(d),u&&c&&c(u)},this.continue=function(){d&&m&&(m=!1,L(n.direction,M))},this.go=function(t){if("number"!=typeof t&&-1===["left","right","up","down"].indexOf(t))throw new Error('only support index or one of ["left", "right", "up", "down"]');var n;if("number"==typeof t)n=t;else{if(E&&-1===["left","right"].indexOf(t)||!E&&-1===["up","down"].indexOf(t))throw new Error("direction conflict");n=e(f,C,b),n="left"===t||"up"===t?n===b-1?0:n+1:0===n?b-1:n-1}O.innerActive=Math.max(Math.min(n+1,b),1),s.stop(),a((function(){m=!1;var t=C*b;f>-C?f-=t:f<-t&&(f+=t),g.style.transform="".concat(j,"(").concat(f,"px)"),h=-C*O.innerActive;var n=Math.abs(h-f);E?n<=t/2?L(f<h?"right":"left",n/20):_(f<h?"left":"right",(t-n)/20):n<=t/2?L(f<h?"down":"up",n/20):_(f<h?"up":"down",(t-n)/20)}))},this.resize=function(t,e){i("width",t),i("height",e),n.width=t,n.height=e,C=E?t:e;var o=n.duration;M=(E?t:e)/o*1e3/60,l.style.width=t+"px",l.style.height=e+"px",E?function(t,e){var o=n.width;g.style.height=e+"px",g.style.width=t*(b+2)+"px",f%o==0&&(0===h?h=-o*b:h===-o*(b+1)&&(h=-o)),h*=t/o,f*=t/o,g.style.transform="".concat(j,"(").concat(f,"px)")}(t,e):function(t,e){var o=n.height;g.style.height=e*(b+2)+"px",g.style.width=t+"px",f%o==0&&(0===h?h=-o*b:h===-o*(b+1)&&(h=-o)),h*=e/o,f*=e/o,g.style.transform="".concat(j,"(").concat(f,"px)")}(t,e);for(var r=0;r<b+2;r++){var c=x[r];c.style.width=t+"px",c.style.height=e+"px"}},this.destroy=function(){for(var t in s.stop(),l.removeEventListener("touchstart",T),l.removeEventListener("touchmove",q),l.removeEventListener("touchend",z),o(l,g,x,E),s)delete s[t];s.__proto__=null}};return n.default})()}));